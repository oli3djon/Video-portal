<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}–ì–ª–∞–≤–Ω–∞—è | Video Portal{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
  
</head>
<body class="bg-gradient">
  <nav class="navbar navbar-expand-lg glassy-nav">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="{{ url_for('main.index') }}">
        <img src="{{ url_for('static', filename='img/logo.svg') }}" width="28" height="28" alt="logo">
        <strong>Video Portal</strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-3">
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.index') }}">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.admin_dashboard') }}">–ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container py-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="toast-container position-fixed top-0 end-0 p-3">
          {% for category, message in messages %}
            <div class="toast align-items-center text-bg-{{ 'success' if category=='success' else ('danger' if category=='danger' else 'primary') }} border-0 show">
              <div class="d-flex">
                <div class="toast-body">{{ message }}</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <footer class="container py-5 small text-muted text-center kbd ">
    ¬© {{ 2025 }} Designed with byüíõoli3djon
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>



  <!--------->

{% if request.endpoint == 'main.index' %}
  <div id="slide-panel" class="slide-panel" role="status" aria-live="polite">
    <button class="slide-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å" onclick="hideSlidePanel()">&times;</button>
    <h4 class="slide-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üëã</h4>
    <p class="slide-text">–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏ –¥–µ–ª–∏—Ç–µ—Å—å –≤–∏–¥–µ–æ –≤ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤.</p>
  </div>
  <script>
    const slidePanel = document.getElementById('slide-panel');

    function showSlidePanel() {
      slidePanel.classList.add('show');
      // —Å–ø—Ä—è—Ç–∞—Ç—å —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
      window.__slideTimer = setTimeout(hideSlidePanel, 6000);
    }

    function hideSlidePanel() {
      slidePanel.classList.remove('show');
      if (window.__slideTimer) clearTimeout(window.__slideTimer);
    }

    document.addEventListener('DOMContentLoaded', showSlidePanel);
  </script>
{% endif %}


  <!--------->
</body>
</html>
